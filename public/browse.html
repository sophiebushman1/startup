<main>
    <body>
      <head>
          <link rel="stylesheet" href="browse.css">
      </head>
      
      <header>
          <h1>Cocojewel</h1>
          <h2>Welcome <span id="user-name">USER</span></h2> <!-- Placeholder for the username -->
          <nav>
              <a href="cart.html" id="cart-link">Cart & Checkout</a>
          </nav>
      </header>
    
      <section id="products">
          <div class="product-grid">
              <div class="product-item" data-product-id="1" data-product-name="Bracelet" data-product-price="15">
                  <img src="https://tresorsdestbarth.com/wp-content/uploads/2022/06/double-wrap-leather-bracelet-with-turquoise-and-solid-18k-gold-beads-and-clasp-rare-turquoise-from-arizona-jewelry-from-st-barth-island-62aa47e3-400x400.jpg" alt="Bracelet" width="150">
                  <p>Bracelet description - $15</p>
                  <button onclick="addToCart(1, 'Bracelet', 15)">Add to Cart</button>
              </div>
              <div class="product-item" data-product-id="2" data-product-name="Ring" data-product-price="20">
                  <img src="https://www.yinahawaii.com/cdn/shop/products/65b956c1a5efcf8dcacabd2c_1024x1024.png?v=1707544202" alt="Ring" width="150">
                  <p>Ring description - $20</p>
                  <button onclick="addToCart(2, 'Ring', 20)">Add to Cart</button>
              </div>
              <div class="product-item" data-product-id="3" data-product-name="Necklace" data-product-price="25">
                  <img src="https://i.etsystatic.com/29155269/r/il/d059fd/5926528134/il_fullxfull.5926528134_dv8m.jpg" alt="Necklace" width="150">
                  <p>Necklace description - $25</p>
                  <button onclick="addToCart(3, 'Necklace', 25)">Add to Cart</button>
              </div>
          </div>
      </section>
    
      <footer>
          <a href="https://github.com/sophiebushman1/startup">My Github Repo</a>
          <p>Created by Sophia Bushman</p>
      </footer>
    
      <style>
          /* CSS code for the layout */
      </style>
    
      <script>
          // Clear the cart if it's a new session or no user is logged in
          const username = localStorage.getItem('userName');
          if (!username) {
              localStorage.removeItem('cart'); // Clear cart if no user is logged in
          }
          
          if (username) {
              document.getElementById('user-name').textContent = username;
          } else {
              document.getElementById('user-name').textContent = 'Guest';
          }
        
          // Function to add items to the cart and update cart count in header
          function addToCart(productId, productName, productPrice) {
              let cart = JSON.parse(localStorage.getItem('cart')) || [];
              const product = { productId, productName, productPrice };
  
              // Check if product is already in the cart
              const existingProductIndex = cart.findIndex(item => item.productId === productId);
  
              if (existingProductIndex !== -1) {
                  cart[existingProductIndex].quantity += 1;  // Increment quantity if already in cart
              } else {
                  product.quantity = 1;
                  cart.push(product);  // Add new product to cart
              }
  
              localStorage.setItem('cart', JSON.stringify(cart));  // Save updated cart in localStorage
  
              // Update cart link text with item count
              updateCartCount();
          }
  
          // Function to update cart count in the header
          function updateCartCount() {
              const cart = JSON.parse(localStorage.getItem('cart')) || [];
              const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
              const cartLink = document.getElementById('cart-link');
              if (cartCount > 0) {
                  cartLink.textContent = `Cart (${cartCount}) & Checkout`;
              } else {
                  cartLink.textContent = `Cart & Checkout`;
              }
          }
  
          // Initial update of cart count when the page loads
          window.onload = updateCartCount;
      </script>
    </body>
  </main>
  